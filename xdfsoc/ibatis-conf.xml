<?xml version="1.0" encoding="UTF-8" ?>  
<!DOCTYPE sqlMapConfig PUBLIC "-//iBATIS.com//DTD SQL Map Config 2.0//EN" "http://www.ibatis.com/dtd/sql-map-config-2.dtd" >
<sqlMap namespace="News">
      
    <!-- 定义别名，为要映射的包.类名，定义一个别名，方便使用 -->  
    <typeAlias alias="News" type="com.lewis.News" />  
      
    <!-- 定义公共常量 -->  
    <sql id="selectSql">  
    <![CDATA[  
    SELECT ID,  
       TITLE,  
       CONTENT,  
       CREATETIME  
    FROM NEWS   
    ]]>  
    </sql>  
  
    <!-- 按指定的ID集合查询 -->  
    <select id="getByIds" parameterClass="java.util.List"  
        resultClass="News">  
        <include refid="selectSql" />  
        <dynamic>  
            <iterate open="WHERE ID IN (" close=")" conjunction=",">  
                #list[]#   
    </iterate>  
        </dynamic>  
    </select>  
      
    <!-- 按某一个Id查找 -->  
    <select id="get" parameterClass="java.lang.String" resultClass="News">  
        <include refid="selectSql" />  
        WHERE ID=#value#  
    </select>  
      
    <!-- 查找数量 -->  
    <sql id="selectCountSql">  
        SELECT COUNT(ID) FROM NEWS  
    </sql>  
      
    <!-- 查找所有news -->  
    <select id="searchNewsList" resultClass="News">  
        <include refid="selectSql" />  
        ORDER BY TITLE   
    </select>  
      
    <!-- 添加操作 -->  
    <insert id="insert" parameterClass="News">  
        INSERT INTO NEWS(  
        ID  
        <dynamic prepend="">  
            <isNotNull prepend="," property="title">  
                TITLE   
               </isNotNull>  
            <isNotNull prepend="," property="content">  
                CONTENT   
               </isNotNull>  
            <isNotNull prepend="," property="createtime">  
                CREATETIME   
            </isNotNull>  
        </dynamic>  
        )  
        VALUES(  
        #id#  
        <dynamic prepend="">  
            <isNotNull prepend="," property="title">  
                TITLE   
               </isNotNull>  
            <isNotNull prepend="," property="content">  
                CONTENT   
               </isNotNull>  
            <isNotNull prepend="," property="createtime">  
                CREATETIME   
            </isNotNull>  
        </dynamic>  
        )  
    </insert>  
      
    <!-- 删除操作 -->  
    <delete id="delete" parameterClass="java.lang.String">  
        DELETE FROM NEWS  
        WHERE ID  
        = #value#   
    </delete>  
      
    <!-- 更新操作 -->  
    <update id="update" parameterClass="News">  
        UPDATE NEWS  
        <dynamic prepend="set">  
            <isNotNull prepend="," property="title">  
                TITLE = #title#  
            </isNotNull>  
            <isNotNull prepend="," property="content">  
                CONTENT = #content#  
            </isNotNull>  
            <isNotNull prepend="," property="createtime">  
                CREATETIME = #createtime#  
            </isNotNull>  
        </dynamic>  
        WHERE ID = #Id#  
    </update>  
</sqlMap>    